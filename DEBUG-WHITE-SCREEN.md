# 白屏问题调试指南

## 已完成的修复

1. ✅ 资源路径改为相对路径（`./assets/...`）
2. ✅ FABO.png 路径改为相对路径（`./FABO.png`）
3. ✅ 优化了 Electron 路径处理逻辑
4. ✅ 在生产环境启用了开发者工具（便于查看错误）

## 在 Windows 上调试白屏问题

### 步骤 1: 查看控制台错误

新打包的安装包已启用开发者工具，启动程序后会自动打开。

**查看方法：**
1. 启动程序
2. 如果开发者工具未自动打开，按 `F12` 或 `Ctrl+Shift+I`
3. 查看 Console 标签页中的错误信息
4. 查看 Network 标签页，检查资源是否加载成功

### 步骤 2: 检查常见错误

**控制台中可能出现的错误：**

1. **404 错误** - 资源文件未找到
   - 检查路径是否正确
   - 检查文件是否存在

2. **CORS 错误** - 跨域问题
   - 检查文件协议是否正确

3. **JavaScript 错误** - 代码执行错误
   - 查看具体错误信息
   - 检查是否有语法错误或运行时错误

4. **路径错误** - 文件路径不正确
   - 检查 HTML 文件是否加载成功
   - 检查资源文件路径

### 步骤 3: 检查控制台输出的路径信息

程序启动时会在控制台输出路径信息：
```
=== 生产环境路径信息 ===
app.getAppPath(): ...
__dirname: ...
HTML path: ...
app.isPackaged: true
```

请将这些信息记录下来，有助于诊断问题。

## 可能的问题和解决方案

### 问题 1: 资源文件路径错误

**症状：** 控制台显示 404 错误

**解决方案：**
- 确保 `vite.config.ts` 中 `base: './'` 已设置
- 重新构建并打包

### 问题 2: HTML 文件未加载

**症状：** 控制台显示 "Failed to load HTML file"

**解决方案：**
- 检查文件路径是否正确
- 查看控制台中的路径信息

### 问题 3: JavaScript 执行错误

**症状：** 控制台显示 JavaScript 错误

**解决方案：**
- 查看具体错误信息
- 检查是否有依赖缺失

## 临时解决方案

如果问题持续存在，可以尝试：

1. **禁用 asar 打包**（仅用于测试）
   - 在 `electron-builder.json` 中设置 `"asar": false`
   - 重新打包测试

2. **使用开发模式测试**
   - 在 Windows 上运行 `npm run dev`
   - 如果开发模式正常，问题可能在打包配置

## 需要的信息

如果问题仍然存在，请提供：

1. 控制台中的完整错误信息
2. 控制台输出的路径信息（app.getAppPath(), __dirname 等）
3. Network 标签页中失败的资源请求
4. Windows 版本信息

这些信息将帮助进一步诊断问题。

